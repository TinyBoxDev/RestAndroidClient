package it.enjinia.ztl.alert.net;

import java.util.ArrayList;
import java.util.HashMap;
//import java.util.Iterator;

//import org.json.JSONException;
//import org.json.JSONObject;

//import android.util.Log;

public abstract class ZtlAlertPacket extends HashMap<String,String> {

	
	private static final long serialVersionUID = 1L;
	
	public abstract String toString();
	
	public String preparePacketToSend() {
		String myselfAsString = new String();
		for(String key : this.keySet())
			myselfAsString += key + "=" + this.get(key) + "&";
		
		return myselfAsString.substring(0, myselfAsString.length()-1);
	}
	
	/*
	public static String REQUEST_STATUS = "it.enjinia.ztl.alert.request.status";
	public static String REQUEST_STATUS_OK = "OK";
	public static String REQUEST_STATUS_KO = "KO";
	public static String USERNAME_FIELD_KEY = "user";
	public static String ZTL_STATUS_FIELD_KEY = "ztl";
	public static String ZTL_EXPIRATION_FIELD_KEY = "scadenza";
	public static String ZTL_LOGIN_USERNAME_FIELD_KEY = "name";
	public static String ZTL_LOGIN_PASSWORD_FIELD_KEY = "password";
	public static String ZTL_STATUS_ENABLED = "on";
	
	
	private static final long serialVersionUID = -8797238868122501014L;
	
	public ZtlAlertPacket(){
		super();
	}
	
	@SuppressWarnings("rawtypes")
	public ZtlAlertPacket(String packetAsString) throws JSONException{
		JSONObject jsonResults = new JSONObject(packetAsString);
			
		Iterator keys = jsonResults.keys();
	    while(keys.hasNext()){
	        String key = (String)keys.next();
	        String value = jsonResults.getString(key);
	        Log.v("pav", value);
	        this.put(key,value);
	    }

			
		this.put(ZtlAlertPacket.REQUEST_STATUS, ZtlAlertPacket.REQUEST_STATUS_OK);
		
		
	}
	*/
	
	

}
